<section>
  <header>
    <ng-container *ngIf="storyList && storyList.title; else titleSkeleton"
      ><h3 class="story-list-title">{{ storyList.title }}</h3></ng-container
    >
  </header>

  <ng-container *ngIf="!!storyList; else bodySkeleton">
    <ng-container
      *ngFor="
        let publication of storyList.publications;
        let editionIndex = index
      "
    >
      <a
        [routerLink]="['/' + appRouteTree.STORY]"
        [queryParams]="{ slug: publication.story.slug, list: storyList.slug }"
      >
        <article>
          <cuentoneta-story-edition-date-label
            class="edition-and-label"
            [label]="
              getEditionLabel(publication, storyList.count - editionIndex)
            "
          ></cuentoneta-story-edition-date-label>
          <h4 class="title">{{ publication.story.title }}</h4>
          <h5 class="author">{{ publication.story.author.name }}</h5>
        </article>
      </a>
    </ng-container>
  </ng-container>

  <!--    ToDo: Implementar navegación para visualizar lista completa-->
  <footer *ngIf="storyList && storyList.publications.length > 10">
    <h3 class="story-list-title">Ver más...</h3>
  </footer>
</section>

<ng-template #titleSkeleton>
  <ngx-skeleton-loader
    count="2"
    appearance="line"
    [theme]="{
      'height.px': 15,
      'background-color': '#D4D4D8'
    }"
  ></ngx-skeleton-loader>
</ng-template>

<ng-template #bodySkeleton>
  <article *ngFor="let skeleton of dummyList">
    <ngx-skeleton-loader count="2" appearance="line"></ngx-skeleton-loader>
  </article>
</ng-template>
